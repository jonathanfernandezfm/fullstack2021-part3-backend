{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","handleSubmit","newName","handleChangeName","newNumber","handleChangeNumber","onSubmit","value","onChange","type","Person","person","handleRemove","name","number","onClick","Persons","persons","map","id","Filter","search","handleChangeSearch","baseUrl","axios","get","then","response","data","post","put","delete","Notification","notification","className","message","App","useState","setPersons","setNewName","setNewNumber","setSearch","setNotification","useEffect","personsService","personsToShow","filter","toLowerCase","includes","setTimeout","event","target","preventDefault","existingPerson","find","window","confirm","concat","p","catch","err","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e296e856.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = ({ handleSubmit, newName, handleChangeName, newNumber, handleChangeNumber }) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={handleChangeName} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={handleChangeNumber} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ person, handleRemove }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{person.name} {person.number}{' '}\r\n\t\t\t<button\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thandleRemove(person);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tdelete\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, handleRemove }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{persons.map((person) => (\r\n\t\t\t\t<Person key={person.id} person={person} handleRemove={handleRemove} />\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ search, handleChangeSearch }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with: <input value={search} onChange={handleChangeSearch} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (person) => {\r\n\tconst request = axios.post(baseUrl, person);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, person) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, person);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request;\r\n};\r\n\r\nexport default {\r\n\tgetAll,\r\n\tcreate,\r\n\tupdate,\r\n\tremove,\r\n};\r\n","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n\tif (!notification) return null;\r\n\treturn <div className={notification.type}>{notification.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport personsService from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [search, setSearch] = useState('');\n\tconst [notification, setNotification] = useState({});\n\n\tuseEffect(() => {\n\t\tpersonsService.getAll().then((data) => setPersons(data));\n\t}, []);\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst existingPerson = persons.find((person) => person.name === newName);\n\t\tif (existingPerson) {\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t\tpersonsService.update(existingPerson.id, { ...existingPerson, number: newNumber }).then((data) => {\n\t\t\t\t\tsetPersons(persons.map((person) => (person.id !== existingPerson.id ? person : data)));\n\t\t\t\t\tsetNewName('');\n\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\tsetNotification({ message: `Number for ${data.name} changed`, type: 'notification' });\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tpersonsService\n\t\t\t\t.create({\n\t\t\t\t\tname: newName,\n\t\t\t\t\tnumber: newNumber,\n\t\t\t\t})\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetPersons(persons.concat(data));\n\t\t\t\t\tsetNewName('');\n\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\tsetNotification({ message: `Added ${data.name}`, type: 'notification' });\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst handleRemove = (p) => {\n\t\tif (window.confirm(`Delete ${p.name}?`))\n\t\t\tpersonsService\n\t\t\t\t.remove(p.id)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== p.id));\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== p.id));\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Information of ${p.name} has already been removed from server`,\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t});\n\t\t\t\t});\n\t};\n\n\tconst handleChangeName = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleChangeNumber = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleChangeSearch = (event) => {\n\t\tsetSearch(event.target.value);\n\t};\n\n\tconst personsToShow = persons.filter((person) => person.name.toLowerCase().includes(search.toLowerCase()));\n\n\tif (notification)\n\t\tsetTimeout(() => {\n\t\t\tsetNotification(null);\n\t\t}, 3000);\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification notification={notification} />\n\t\t\t<Filter search={search} handleChangeSearch={handleChangeSearch} />\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleChangeName={handleChangeName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleChangeNumber={handleChangeNumber}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons persons={personsToShow} handleRemove={handleRemove} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}